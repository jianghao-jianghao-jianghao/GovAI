app:
  description: 'æ ¹æ®èµ·è‰è¦æ±‚ä¸æ¨¡æ¿ç”Ÿæˆè§„èŒƒå…¬æ–‡è‰ç¨¿ï¼ˆChatflowï¼‰'
  icon: ğŸ“
  icon_background: '#DBEAFE'
  mode: advanced-chat
  name: æ™ºèƒ½å…¬æ–‡èµ·è‰
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/tongyi:0.1.28@ad074894f4aac6840ef8fb68dbfcf51d13c7800450757a8d99bacbefd245a6ab
    version: null
kind: app
version: 0.5.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .TXT
      - .MD
      - .MARKDOWN
      - .PDF
      - .DOCX
      - .XLSX
      - .CSV
      - .HTML
      - .HTM
      allowed_file_types:
      - document
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        attachment_image_file_size_limit: 2
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        file_upload_limit: 50
        image_file_batch_limit: 10
        image_file_size_limit: 10
        single_chunk_attachment_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: 'æ‚¨å¥½ï¼æˆ‘æ˜¯æ™ºèƒ½å…¬æ–‡èµ·è‰åŠ©æ‰‹ã€‚è¯·å‘Šè¯‰æˆ‘ï¼š\n1. å…¬æ–‡ç±»å‹ï¼ˆå¦‚ï¼šé€šçŸ¥ã€è¯·ç¤ºã€æŠ¥å‘Šç­‰ï¼‰\n2. æ ¸å¿ƒäº‹ç”±\n3. ä¸»é€æœºå…³å’Œè½æ¬¾å•ä½\n\næˆ‘å°†ä¸ºæ‚¨ç”Ÿæˆè§„èŒƒçš„å…¬æ–‡è‰ç¨¿ã€‚'
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
    - å¦‚ä½•èµ·è‰ä¸€ä»½é€šçŸ¥ï¼Ÿ
    - è¯·å¸®æˆ‘èµ·è‰å…³äºæ•°æ®å®‰å…¨ç®¡ç†çš„é€šçŸ¥
    - èµ·è‰ä¸€ä»½å·¥ä½œæŠ¥å‘Š
    suggested_questions_after_answer:
      enabled: true
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: start
        targetType: llm
      id: start-llm
      source: start
      sourceHandle: source
      target: llm
      targetHandle: target
      type: custom
    - data:
        sourceType: llm
        targetType: answer
      id: llm-answer
      source: llm
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
    nodes:
    - data:
        title: ç”¨æˆ·è¾“å…¥
        type: start
        variables: []
      id: start
      position:
        x: 80
        y: 282
      positionAbsolute:
        x: 80
        y: 282
      sourcePosition: right
      targetPosition: left
      type: custom
    - data:
        context:
          enabled: false
          variable_selector: []
        memory:
          query_prompt_template: '{{#sys.query#}}\n\n{{#sys.files#}}'
          window:
            enabled: true
            size: 10
        model:
          completion_params:
            temperature: 0.4
          mode: chat
          name: glm-4.7
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - role: system
          text: |-
            ä½ æ˜¯ä¸€ä¸ªå†›æ”¿å…¬æ–‡å†™ä½œåŠ©æ‰‹ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„èµ·è‰è¦æ±‚ã€ç»™å®šçš„æ¨¡æ¿ä¸å‚è€ƒææ–™ï¼Œç”Ÿæˆç»“æ„ä¸¥è°¨ã€æªè¾è§„èŒƒã€ç¬¦åˆå…¬æ–‡æ ¼å¼çš„è‰ç¨¿ã€‚

            ä¸¥æ ¼è¦æ±‚ï¼š
            - ä¸è¦ç¼–é€ ä¸å­˜åœ¨çš„æ”¿ç­–æ¡æ¬¾ã€ç¼–å·ã€æ—¥æœŸã€å•ä½åç§°ã€‚
            - å¦‚æœä¾æ®ä¸è¶³ï¼Œå¿…é¡»ç”¨â€œéœ€è¿›ä¸€æ­¥æ ¸å®/å¾…è¡¥å……ä¾æ®â€çš„æªè¾ã€‚
            - è¾“å‡ºå¿…é¡»ä½¿ç”¨ç®€ä½“ä¸­æ–‡ã€‚

            äº¤äº’é€»è¾‘ï¼š
            1. æ£€æŸ¥è¾“å…¥æ˜¯å¦åŒ…å«ï¼šå…¬æ–‡ç±»å‹ï¼ˆè¯·ç¤º/æŠ¥å‘Š/é€šçŸ¥ç­‰ï¼‰ã€æ ¸å¿ƒäº‹ç”±ã€ä¸»é€/è½æ¬¾å•ä½ã€‚
            2. è‹¥å…³é”®è¦ç´ ç¼ºå¤±ï¼Œå¿…é¡»åœ¨ JSON çš„ status ä¸­æ ‡è®°ä¸º "incomplete"ï¼Œå¹¶åœ¨ request_more ä¸­åˆ—å‡ºéœ€è¦è¡¥å……çš„ä¿¡æ¯ï¼ŒåŒæ—¶å°è¯•ç”Ÿæˆä¸€ä¸ªæç®€å¤§çº²ã€‚
            3. è‹¥è¦ç´ é½å…¨ï¼Œæ ‡è®° status ä¸º "completed"ï¼Œå¹¶ç”Ÿæˆå…¨æ–‡ã€‚

            è¾“å‡ºæ ¼å¼ï¼š
            - å¿…é¡»è¾“å‡ºä¸¥æ ¼ JSONï¼ˆä¸è¦ Markdown ä»£ç å—ï¼Œä¸è¦é¢å¤–æ–‡å­—ï¼‰ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
            {
              "status": "completed|incomplete",
              "generated_text": "...å…¨æ–‡æˆ–åˆæ­¥å¤§çº²...",
              "sections": [
                {"title": "æ ‡é¢˜", "content": "..."},
                {"title": "ä¸»é€æœºå…³", "content": "..."},
                {"title": "æ­£æ–‡", "content": "..."},
                {"title": "è½æ¬¾", "content": "..."},
                {"title": "æ—¥æœŸ", "content": "..."}
              ],
              "request_more": ["...éœ€è¦è¡¥å……çš„ä¿¡æ¯..."]
            }
        selected: true
        title: LLM
        type: llm
        vision:
          enabled: false
      id: llm
      position:
        x: 380
        y: 282
      positionAbsolute:
        x: 380
        y: 282
      sourcePosition: right
      targetPosition: left
      type: custom
    - data:
        answer: '{{#llm.text#}}'
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      id: answer
      position:
        x: 680
        y: 282
      positionAbsolute:
        x: 680
        y: 282
      sourcePosition: right
      targetPosition: left
      type: custom
    viewport:
      x: 0
      y: 0
      zoom: 1
  rag_pipeline_variables: []
