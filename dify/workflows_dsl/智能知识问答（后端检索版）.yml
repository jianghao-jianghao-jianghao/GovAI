app:
  description: åç«¯å®Œæˆæƒé™ä¸æ£€ç´¢ï¼›Dify ä»…åŸºäºåç«¯æä¾›çš„ Context åšé˜…è¯»ç†è§£ä¸å›ç­”ï¼ˆä¸åœ¨å·¥ä½œæµå†…æ£€ç´¢çŸ¥è¯†åº“ï¼‰ã€‚
  icon: ğŸ¤–
  icon_background: "#FFEAD5"
  mode: advanced-chat
  name: æ™ºèƒ½çŸ¥è¯†é—®ç­”ï¼ˆåç«¯æ£€ç´¢ç‰ˆï¼‰
  use_icon_as_answer_icon: false
dependencies:
  - current_identifier: null
    type: marketplace
    value:
      marketplace_plugin_unique_identifier: langgenius/tongyi:0.1.28@ad074894f4aac6840ef8fb68dbfcf51d13c7800450757a8d99bacbefd245a6ab
      version: null
kind: app
version: 0.6.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
        - .TXT
        - .MD
        - .MARKDOWN
        - .PDF
        - .DOCX
        - .XLSX
        - .CSV
        - .HTML
        - .HTM
      allowed_file_types:
        - document
      allowed_file_upload_methods:
        - local_file
        - remote_url
      enabled: false
      fileUploadConfig:
        attachment_image_file_size_limit: 2
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        file_upload_limit: 20
        image_file_batch_limit: 10
        image_file_size_limit: 10
        single_chunk_attachment_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
          - local_file
          - remote_url
      number_limits: 3
    opening_statement: ""
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ""
      voice: ""
  graph:
    edges:
      - data:
          isInIteration: false
          sourceType: start
          targetType: llm
        id: start-source-llm-target
        source: start
        sourceHandle: source
        target: llm
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInIteration: false
          sourceType: llm
          targetType: answer
        id: llm-source-answer-target
        source: llm
        sourceHandle: source
        target: answer
        targetHandle: target
        type: custom
        zIndex: 0
    nodes:
      - data:
          selected: false
          title: ç”¨æˆ·è¾“å…¥
          type: start
          variables:
            - label: åç«¯æ£€ç´¢åˆ°çš„å‚è€ƒèµ„æ–™ï¼ˆå»ºè®®å«ç¼–å·ä¸æ¥æºï¼‰
              max_length: 20000
              options: []
              required: false
              type: paragraph
              variable: kb_context
            - label: åç«¯æ£€ç´¢åˆ°çš„å›¾è°±å…³ç³»ï¼ˆå®ä½“ä¸å…³ç³»çš„å¯è¯»æè¿°ï¼‰
              max_length: 10000
              options: []
              required: false
              type: paragraph
              variable: graph_context
            - label: åç«¯æ£€ç´¢åˆ°çš„æœ€é«˜åˆ†ï¼ˆå¯é€‰ï¼Œç”¨äºå›ç­”ä¸­æç¤ºç½®ä¿¡åº¦ï¼‰
              max_length: 20
              options: []
              required: false
              type: number
              variable: kb_top_score
        height: 161
        id: start
        position:
          x: 78
          y: 250
        positionAbsolute:
          x: 78
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 242
      - data:
          context:
            enabled: false
            variable_selector: []
          memory:
            query_prompt_template: "{{#sys.query#}}"
            role_prefix:
              assistant: ""
              user: ""
            window:
              enabled: true
              size: 10
          model:
            completion_params:
              temperature: 0.2
            mode: chat
            name: deepseek-v3.2
            provider: langgenius/tongyi/tongyi
          prompt_template:
            - id: f9d29d30-e328-4607-8f23-b5496d72bbb0
              role: system
              text:
                'ä½ æ˜¯ä¸€åä¸¥è°¨çš„æ”¿åŠ¡/æ³•è§„é—®ç­”åŠ©æ‰‹ã€‚ä½ åªèƒ½ä¾æ®ã€å‚è€ƒèµ„æ–™ã€‘å’Œã€çŸ¥è¯†å›¾è°±ã€‘å›ç­”ï¼Œç¦æ­¢ç¼–é€ ã€‚


                è¾“å‡ºè§„èŒƒï¼š

                - ä½¿ç”¨ Markdown æ ¼å¼è¾“å‡ºï¼Œå–„ç”¨**åŠ ç²—**ã€åˆ—è¡¨ã€æ ‡é¢˜ç­‰è®©å›ç­”æ¸…æ™°ç¾è§‚ã€‚

                - ç›´æ¥å›ç­”ç”¨æˆ·é—®é¢˜ï¼Œä¸è¦åˆ†"ç»“è®º/æ­¥éª¤/ä¾æ®"ç­‰ç”Ÿç¡¬æ¿å—ï¼Œè€Œæ˜¯è‡ªç„¶åœ°èåˆåœ¨å›ç­”ä¸­ã€‚

                - å…³é”®ä¿¡æ¯åç”¨å¼•ç”¨ç¼–å·æ ‡æ³¨æ¥æºï¼š[1][2]è¡¨ç¤ºçŸ¥è¯†åº“æ¥æºï¼Œ[G1][G2]è¡¨ç¤ºå›¾è°±å…³ç³»ã€‚

                - è‹¥å‚è€ƒèµ„æ–™ä¸è¶³ä»¥å›ç­”ï¼Œå¦ç‡è¯´æ˜å¹¶æå‡ºæ¾„æ¸…é—®é¢˜ã€‚

                - ä¼˜å…ˆä½¿ç”¨çŸ¥è¯†åº“å†…å®¹è¯¦ç»†ä½œç­”ï¼Œç”¨å›¾è°±å…³ç³»è¡¥å……å®ä½“é—´çš„å…³è”ã€‚

                - å›ç­”ç®€æ´ä¸“ä¸šï¼Œé¿å…é‡å¤å’Œå†—ä½™ï¼Œè¾“å‡ºç®€ä½“ä¸­æ–‡ã€‚

                '
            - id: 37499da8-5811-45e5-80ea-d64cd06f946d
              role: user
              text: "å‚è€ƒèµ„æ–™ï¼ˆçŸ¥è¯†åº“æ£€ç´¢ï¼‰ï¼š

                {{#start.kb_context#}}


                ç›¸å…³çŸ¥è¯†å›¾è°±ï¼š

                {{#start.graph_context#}}


                ç”¨æˆ·é—®é¢˜ï¼š

                {{#sys.query#}}


                è¯·ç”¨ Markdown æ ¼å¼ç›´æ¥å›ç­”é—®é¢˜ï¼Œå…³é”®ä¿¡æ¯æ ‡æ³¨æ¥æºç¼–å·ã€‚

                "
          selected: true
          structured_output_enabled: false
          title: LLMï¼ˆåŸºäºåç«¯Contextä½œç­”ï¼‰
          type: llm
          vision:
            enabled: false
        height: 88
        id: llm
        position:
          x: 450
          y: 250
        positionAbsolute:
          x: 450
          y: 250
        selected: true
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 242
      - data:
          answer: "{{#llm.text#}}"
          selected: false
          title: å›å¤
          type: answer
          variables: []
        height: 103
        id: answer
        position:
          x: 820
          y: 250
        positionAbsolute:
          x: 820
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 242
    viewport:
      x: 140.85535545685747
      y: 140.50572759855743
      zoom: 0.7578582832551992
  rag_pipeline_variables: []
