app:
  description: æ–‡æ¡£å®¡æŸ¥ä¸ä¼˜åŒ– â€” æ”¯æŒæ–‡ä»¶ä¸Šä¼ ï¼Œè‡ªåŠ¨æå–å†…å®¹ï¼Œä¸€æ¬¡æ€§å®Œæˆé”™åˆ«å­—/è¯­æ³•/æ ‡ç‚¹/æªè¾/æ•æ„Ÿè¯/ç»“æ„/æ—¶æ•ˆæ€§/ä¸€è‡´æ€§/æ•°æ®æ ¸æŸ¥ç­‰å…¨é¢å®¡æŸ¥ï¼Œç»“æ„åŒ– JSON è¾“å‡º
  icon: ğŸ”
  icon_background: "#FEF3C7"
  mode: advanced-chat
  name: æ™ºèƒ½æ–‡æ¡£å®¡æŸ¥ä¼˜åŒ–
  use_icon_as_answer_icon: false
dependencies:
  - current_identifier: null
    type: marketplace
    value:
      marketplace_plugin_unique_identifier: langgenius/tongyi:0.1.28@ad074894f4aac6840ef8fb68dbfcf51d13c7800450757a8d99bacbefd245a6ab
    version: null
kind: app
version: 0.6.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
        - .TXT
        - .MD
        - .MARKDOWN
        - .PDF
        - .DOCX
        - .DOC
        - .XLSX
        - .XLS
        - .CSV
        - .HTML
        - .JSON
        - .XML
      allowed_file_types:
        - document
      allowed_file_upload_methods:
        - remote_url
        - local_file
      enabled: true
      fileUploadConfig:
        file_size_limit: 50
        file_upload_limit: 10
      number_limits: 3
    opening_statement: ""
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ""
      voice: ""
  graph:
    edges:
      - data:
          sourceType: start
          targetType: document-extractor
        id: start-document-extractor
        source: start
        sourceHandle: source
        target: document-extractor
        targetHandle: target
        type: custom
      - data:
          sourceType: document-extractor
          targetType: llm
        id: document-extractor-llm
        source: document-extractor
        sourceHandle: source
        target: llm
        targetHandle: target
        type: custom
      - data:
          sourceType: llm
          targetType: answer
        id: llm-answer
        source: llm
        sourceHandle: source
        target: answer
        targetHandle: target
        type: custom
    nodes:
      - data:
          selected: false
          title: ç”¨æˆ·è¾“å…¥
          type: start
          variables: []
        height: 73
        id: start
        position:
          x: 80
          y: 282
        positionAbsolute:
          x: 80
          y: 282
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 242
      - data:
          is_array_file: true
          selected: false
          title: æ–‡æ¡£æå–å™¨
          type: document-extractor
          variable_selector:
            - sys
            - files
        height: 73
        id: document-extractor
        position:
          x: 230
          y: 420
        positionAbsolute:
          x: 230
          y: 420
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 242
      - data:
          context:
            enabled: true
            variable_selector:
              - document-extractor
              - text
          memory:
            query_prompt_template: "{{#sys.query#}}"
            role_prefix:
              assistant: ""
              user: ""
            window:
              enabled: false
              size: 10
          model:
            completion_params:
              temperature: 0.2
              response_format: json_object
            mode: chat
            name: qwen-plus
            provider: langgenius/tongyi/tongyi
          prompt_template:
            - id: c3a4d5e6-f7b8-9012-cdef-234567890abc
              role: system
              text: |-
                # è§’è‰²å®šä¹‰
                ä½ æ˜¯ä¸€åèµ„æ·±æ–‡æ¡£å®¡æŸ¥ä¸ä¼˜åŒ–ä¸“å®¶ï¼Œè´Ÿè´£å¯¹å„ç±»æ–‡æ¡£ï¼ˆå…¬æ–‡ã€æ–¹æ¡ˆã€æŠ¥å‘Šã€å‡½ä»¶ã€æŠ€æœ¯æ–‡æ¡£ç­‰ï¼‰è¿›è¡Œå…¨é¢å®¡æŸ¥å¹¶æå‡ºå…·ä½“çš„ä¿®æ”¹å»ºè®®ã€‚
                å®¡æŸ¥ç»“æœå°†ç”¨äºç³»ç»Ÿçš„ Copilot å¼é€æ¡å˜æ›´å®¡æŸ¥åŠŸèƒ½ï¼Œå› æ­¤ original å­—æ®µå¿…é¡»ç²¾å‡†åŒ¹é…åŸæ–‡ã€‚
                å½“å‰æ—¥æœŸä¼šåœ¨ç”¨æˆ·æ¶ˆæ¯ä¸­ä»¥ [å½“å‰æ—¥æœŸ: YYYY-MM-DD] æ ¼å¼æä¾›ï¼Œè¯·ä»¥æ­¤ä¸ºåŸºå‡†åˆ¤æ–­æ—¶æ•ˆæ€§é—®é¢˜ã€‚

                # è¾“å…¥è¯´æ˜
                ç”¨æˆ·å¯èƒ½æä¾›ä¸¤ç§æ ¼å¼çš„å†…å®¹ï¼š
                1. **çº¯æ–‡æœ¬æ ¼å¼**ï¼šç›´æ¥çš„æ–‡æ¡£æ–‡æœ¬
                2. **ç»“æ„åŒ– JSON æ ¼å¼**ï¼šåŒ…å« paragraphs æ•°ç»„ï¼Œæ¯ä¸ªæ®µè½æœ‰ textã€style_type ç­‰å±æ€§

                å¦‚æœè¾“å…¥æ˜¯ç»“æ„åŒ– JSON æ ¼å¼ï¼š
                - è¯·å®¡æŸ¥æ¯ä¸ªæ®µè½çš„ **text å­—æ®µ**ä¸­çš„æ–‡å­—å†…å®¹
                - original å­—æ®µå¿…é¡»æ˜¯æ®µè½ text ä¸­**ç²¾ç¡®å­˜åœ¨çš„æ–‡æœ¬ç‰‡æ®µ**
                - ä¸è¦å°† JSON ç»“æ„æœ¬èº«ï¼ˆå±æ€§åã€style_type å€¼ï¼‰ä½œä¸ºå®¡æŸ¥å¯¹è±¡
                - ä¸è¦å®¡æŸ¥æ ¼å¼å±æ€§ï¼ˆfont_sizeã€alignment ç­‰å±äºæ’ç‰ˆé˜¶æ®µçš„èŒè´£ï¼‰

                # å®¡æŸ¥ç»´åº¦ï¼ˆ9 ç±»ï¼‰

                ## 1. é”™åˆ«å­—ä¸æ‹¼å†™ï¼ˆtypoï¼‰
                - åŒéŸ³å­—é”™ç”¨ï¼šâ€œåš/ä½œâ€â€œçš„/åœ°/å¾—â€â€œä»¥/å·²â€â€œäº‹/å®â€â€œåˆ¶å®š/åˆ¶å®šâ€
                - å½¢è¿‘å­—é”™ç”¨ã€å¤šå­—å°‘å­—
                - ä¸“æœ‰åè¯æ‹¼å†™ï¼šæœºæ„å…¨ç§°ã€æ³•è§„åç§°ã€åœ°åã€äººå

                ## 2. æ ‡ç‚¹ç¬¦å·ï¼ˆpunctuationï¼‰
                - å…¨è§’/åŠè§’æ··ç”¨
                - é¡¿å·ã€é€—å·ã€åˆ†å·å±‚çº§æ˜¯å¦æ­£ç¡®
                - ä¹¦åå·ã€å¼•å·åµŒå¥—æ˜¯å¦è§„èŒƒ

                ## 3. è¯­æ³•ä¸é€»è¾‘ï¼ˆgrammarï¼‰
                - ä¸»è°“å®¾æ­é…ã€æˆåˆ†æ®‹ç¼ºã€è¯­åºä¸å½“
                - ä¸Šä¸‹æ–‡å› æœ/é€’è¿›å…³ç³»æ˜¯å¦åˆç†
                - é‡å¤èµ˜è¿°

                ## 4. æªè¾ä¼˜åŒ–ï¼ˆwordingï¼‰
                - å£è¯­åŒ–è¡¨è¿° â†’ è§„èŒƒä¹¦é¢è¯­
                - ç”¨è¯ä¸å‡†ç¡®/åŠ›åº¦ä¸å¤Ÿ â†’ æ›¿æ¢ä¸ºæ›´è§„èŒƒçš„è¡¨è¿°
                - å†—ä½™è¡¨è¿° â†’ ç²¾ç®€

                ## 5. æ•æ„Ÿè¯ä¸åˆè§„æ€§ï¼ˆsensitiveï¼‰
                - æ”¿æ²»æ•æ„Ÿè¡¨è¿°
                - ä¸ç°è¡Œæ”¿ç­–æ³•è§„å†²çªçš„è¡¨è¿°
                - æ¶‰å¯†é£é™©ç”¨è¯­

                ## 6. ç»“æ„å»ºè®®ï¼ˆstructureï¼‰
                - æ ‡é¢˜å±‚çº§ç¼–å·æ˜¯å¦è§„èŒƒï¼ˆâ€œä¸€ã€â€â€œï¼ˆä¸€ï¼‰â€â€œ1.â€â€œ(1)â€å››çº§ï¼‰
                - æ®µè½é€»è¾‘é¡ºåºæ˜¯å¦åˆç†
                - æ˜¯å¦ç¼ºå°‘å¿…è¦è¦ç´ ï¼ˆæ ‡é¢˜ã€ä¸»é€æœºå…³ã€ç»“æŸè¯­ã€è½æ¬¾ç­‰ï¼‰

                ## 7. æ—¶æ•ˆæ€§æ£€æŸ¥ï¼ˆtimelinessï¼‰ â€” é‡è¦ï¼
                - å¼•ç”¨çš„æ”¿ç­–æ³•è§„æ˜¯å¦å·²åºŸæ­¢æˆ–æ›´æ–°ï¼ˆå¦‚å¼•ç”¨æ—§ç‰ˆæ¡ä¾‹ã€å·²å¤±æ•ˆçš„æ–‡ä»¶ï¼‰
                - æœºæ„åç§°æ˜¯å¦å·²å˜æ›´ï¼ˆå¦‚å·²æ’¤é”€/åˆå¹¶/æ›´åçš„éƒ¨é—¨ï¼‰
                - æ—¥æœŸæ˜¯å¦åˆç†ï¼ˆæœªæ¥æ—¥æœŸç”¨ä½œå†å²å¼•ç”¨ã€è¿‡æœŸçš„æˆªæ­¢æ—¥æœŸã€å¹´ä»½æ˜æ˜¾é”™è¯¯ï¼‰
                - å¼•ç”¨çš„æ•°æ®æ˜¯å¦è¿‡æ—¶ï¼ˆå¦‚â€œ2020å¹´ç»Ÿè®¡æ•°æ®â€ç”¨äº2026å¹´æ–‡ä»¶ï¼‰
                - è¡¨è¿°æ˜¯å¦åæ˜ å½“å‰ç°å®ï¼ˆå¦‚â€œåä¸‰äº”â€åº”æ›´æ–°ä¸ºâ€œåå››äº”â€æˆ–â€œåäº”äº”â€ï¼‰
                - severity é€šå¸¸ä¸º errorï¼ˆè¿‡æ—¶ä¿¡æ¯ä¼šå¯¼è‡´æ–‡ä»¶å¤±æ•ˆï¼‰

                ## 8. å‰åä¸€è‡´æ€§ï¼ˆconsistencyï¼‰
                - åŒä¸€äº‹ç‰©çš„åç§°å‰åæ˜¯å¦ä¸€è‡´ï¼ˆå¦‚å‰æ–‡â€œå·¥ä½œå°ç»„â€åæ–‡å˜â€œé¢†å¯¼å°ç»„â€ï¼‰
                - æ•°æ®å‰åæ˜¯å¦çŸ›ç›¾ï¼ˆå¦‚å‰æ–‡â€œå…±120å°â€åæ–‡â€œåˆè®¡130å°â€ï¼‰
                - æ—¥æœŸã€ç¼–å·ã€é‡‘é¢ç­‰å…³é”®ä¿¡æ¯å‰åæ˜¯å¦ä¸€è‡´
                - ç®€ç§°ä¸å…¨ç§°æ˜¯å¦å¯¹åº”ï¼ˆå¦‚å…¨ç§°â€œä¿¡æ¯æŠ€æœ¯éƒ¨â€åç®€ç§°â€œä¿¡æ¯éƒ¨â€æ˜¯å¦å‡†ç¡®ï¼‰

                ## 9. æ•°æ®æ ¸æŸ¥ï¼ˆnumberï¼‰
                - æ•°å­—åŠ æ€»æ˜¯å¦æ­£ç¡®ï¼ˆå¦‚â€œå…±ä¸‰é¡¹â€ä½†åªåˆ—äº†ä¸¤é¡¹ï¼‰
                - ç™¾åˆ†æ¯”ä¹‹å’Œæ˜¯å¦åˆç†ï¼ˆå¦‚å æ¯”åŠ æ€»è¶…è¿‡100%ï¼‰
                - å•ä½æ˜¯å¦æ­£ç¡®ï¼ˆä¸‡å…ƒ/äº¿å…ƒã€å¹³æ–¹ç±³/äº©ã€äºº/äººæ¬¡ï¼‰
                - é‡‘é¢å¤§å°å†™æ˜¯å¦ä¸€è‡´
                - æ•°å€¼é‡çº§æ˜¯å¦åˆç†ï¼ˆå¦‚â€œåŸ¹è®­10ä¸‡äººâ€å¯¹äºå°å•ä½æ˜¯å¦åˆç†ï¼‰

                # å®¡æŸ¥åŸåˆ™
                - **æ±‚çœŸ**ï¼šåªæŠ¥å‘Šç¡®å®å­˜åœ¨çš„é—®é¢˜ï¼Œä¸¥ç¦ç¼–é€ ä¸å­˜åœ¨çš„é”™è¯¯
                - **ç²¾å‡†å®šä½**ï¼šoriginal å¿…é¡»æ˜¯åŸæ–‡ä¸­å¯è¢«ç²¾ç¡®æŸ¥æ‰¾åˆ°çš„æ–‡æœ¬ç‰‡æ®µï¼ˆå‰ç«¯ç”¨ String.includes() å®šä½ï¼‰
                - **å¯æ“ä½œ**ï¼šæ¯ä¸ªå»ºè®®å¿…é¡»å…·ä½“åˆ°ä¿®æ”¹åçš„æ–‡å­—
                - **åˆ†ä¼˜å…ˆçº§**ï¼š
                  - errorï¼šå¿…é¡»ä¿®æ”¹ï¼ˆé”™åˆ«å­—ã€è¿‡æ—¶ä¿¡æ¯ã€äº‹å®é”™è¯¯ã€æ•æ„Ÿè¯ã€æ•°æ®è®¡ç®—é”™è¯¯ï¼‰
                  - warningï¼šå»ºè®®ä¿®æ”¹ï¼ˆè¯­æ³•é—®é¢˜ã€æ ‡ç‚¹é”™è¯¯ã€å‰åä¸ä¸€è‡´ï¼‰
                  - infoï¼šå¯é€‰ä¼˜åŒ–ï¼ˆæªè¾æ¶¦è‰²ã€ç»“æ„å»ºè®®ï¼‰

                # è¾“å‡ºæ ¼å¼ï¼ˆä¸¥æ ¼ JSONï¼Œç¦æ­¢ Markdown ä»£ç å—ï¼‰

                è¾“å‡ºå¿…é¡»ä¸”ä»…æ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦å¿…é¡»æ˜¯ `{`ã€‚

                category å¯é€‰å€¼ï¼štypo, punctuation, grammar, wording, sensitive, structure, timeliness, consistency, number

                ç¤ºä¾‹ï¼š
                {"suggestions":[{"category":"timeliness","severity":"error","original":"æ ¹æ®ã€Šå›½åŠ¡é™¢å…³äºXXçš„æš‚è¡ŒåŠæ³•ã€‹ï¼ˆ2018å¹´ï¼‰","suggestion":"æ ¹æ®ã€Šå›½åŠ¡é™¢å…³äºXXçš„ç®¡ç†åŠæ³•ã€‹ï¼ˆ2024å¹´ä¿®è®¢ï¼‰","reason":"è¯¥åŠæ³•å·²äº2024å¹´ä¿®è®¢ï¼Œåº”å¼•ç”¨æœ€æ–°ç‰ˆæœ¬","context":"æ ¹æ®ã€Šå›½åŠ¡é™¢å…³äºXXçš„æš‚è¡ŒåŠæ³•ã€‹çš„è¦æ±‚"},{"category":"consistency","severity":"warning","original":"å…±è®¡150å°","suggestion":"å…±è®¡120å°","reason":"å‰æ–‡åˆ—ä¸¾å„é¡¹åˆè®¡120å°ï¼Œæ­¤å¤„ä¸å‰æ–‡æ•°æ®ä¸ä¸€è‡´","context":"å„ç±»è®¾å¤‡å…±è®¡150å°ï¼Œå‡å·²"},{"category":"number","severity":"error","original":"å æ¯”65%ã€å æ¯”45%","suggestion":"å æ¯”65%ã€å æ¯”35%","reason":"ä¸¤é¡¹å æ¯”ä¹‹å’Œè¶…è¿‡100%ï¼Œæ•°æ®æœ‰è¯¯","context":"å…¶ä¸­ç±»Aå æ¯”65%ã€ç±»Bå æ¯”45%"},{"category":"typo","severity":"error","original":"æœ‰å…³å·¥ä½œåšå¦‚ä¸‹éƒ¨ç½²","suggestion":"æœ‰å…³å·¥ä½œä½œå¦‚ä¸‹éƒ¨ç½²","reason":"â€œä½œéƒ¨ç½²â€åº”ç”¨â€œä½œâ€è€Œéâ€œåšâ€","context":"ç°å°†æœ‰å…³å·¥ä½œåšå¦‚ä¸‹éƒ¨ç½²"}],"summary":"å…±å‘ç°4å¤„é—®é¢˜ï¼ˆæ—¶æ•ˆæ€§1å¤„ã€ä¸€è‡´æ€§1å¤„ã€æ•°æ®1å¤„ã€é”™åˆ«å­—1å¤„ï¼‰ï¼Œä¸»è¦é£é™©ï¼šå¼•ç”¨å·²è¿‡æ—¶æ”¿ç­–ã€æ•°æ®å‰åçŸ›ç›¾"}

                # æ³¨æ„äº‹é¡¹
                - è‹¥æŸç±»é—®é¢˜æœªå‘ç°ï¼Œä¸éœ€è¦ç”Ÿæˆå¯¹åº”æ¡ç›®
                - æ‰€æœ‰é—®é¢˜éƒ½æ²¡æœ‰æ—¶ï¼Œsuggestions ä¸ºç©ºæ•°ç»„ []ï¼Œsummary å†™â€œå®¡æŸ¥é€šè¿‡ï¼Œæœªå‘ç°æ˜æ˜¾é—®é¢˜â€
                - original å­—æ®µå¿…é¡»æ˜¯åŸæ–‡ä¸­å­˜åœ¨çš„ç²¾ç¡®æ–‡æœ¬ï¼Œæ–¹ä¾¿å‰ç«¯åšæ–‡æœ¬æ›¿æ¢
                - original å’Œ suggestion ä¸èƒ½ç›¸åŒ
                - æŒ‰ severity ä¼˜å…ˆçº§æ’åºï¼šerror åœ¨å‰ï¼Œwarning æ¬¡ä¹‹ï¼Œinfo æœ€å
                - æ—¶æ•ˆæ€§é—®é¢˜ï¼ˆtimelinessï¼‰å’Œæ•°æ®é”™è¯¯ï¼ˆnumberï¼‰åº”æ ‡è®°ä¸º error çº§åˆ«

                # ä¸Šä¼ æ–‡æ¡£å†…å®¹ï¼ˆç”±æ–‡æ¡£æå–å™¨è‡ªåŠ¨è§£æï¼‰
                {{#context#}}
          selected: true
          title: LLM
          type: llm
          vision:
            enabled: false
        height: 88
        id: llm
        position:
          x: 380
          y: 282
        positionAbsolute:
          x: 380
          y: 282
        selected: true
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 242
      - data:
          answer: "{{#llm.text#}}"
          selected: false
          title: ç›´æ¥å›å¤
          type: answer
          variables: []
        height: 103
        id: answer
        position:
          x: 681
          y: 282
        positionAbsolute:
          x: 681
          y: 282
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 242
    viewport:
      x: 132
      y: 7
      zoom: 0.8
  rag_pipeline_variables: []
