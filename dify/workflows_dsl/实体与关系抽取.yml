app:
  description: ä»æ–‡æœ¬ä¸­æŠ½å–å®ä½“ä¸å…³ç³»,è¾“å‡ºç»“æ„åŒ–ä¸‰å…ƒç»„ï¼ˆChatflowï¼‰
  icon: ğŸ¤–
  icon_background: '#DCFCE7'
  mode: advanced-chat
  name: å®ä½“ä¸å…³ç³»æŠ½å–
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/tongyi:0.1.28@ad074894f4aac6840ef8fb68dbfcf51d13c7800450757a8d99bacbefd245a6ab
    version: null
kind: app
version: 0.6.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .TXT
      - .MD
      - .MARKDOWN
      - .PDF
      - .DOCX
      - .XLSX
      - .CSV
      - .HTML
      - .HTM
      allowed_file_types:
      - document
      allowed_file_upload_methods:
      - remote_url
      - local_file
      enabled: false
      fileUploadConfig:
        attachment_image_file_size_limit: 2
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        file_upload_limit: 20
        image_file_batch_limit: 10
        image_file_size_limit: 10
        single_chunk_attachment_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: æ‚¨å¥½ï¼æˆ‘æ˜¯å®ä½“ä¸å…³ç³»æŠ½å–åŠ©æ‰‹ã€‚æˆ‘å¯ä»¥ä»æ–‡æœ¬ä¸­æå–ï¼š\n- å®ä½“ï¼ˆæœºæ„ã€éƒ¨é—¨ã€äººå‘˜ã€æ¦‚å¿µã€ç³»ç»Ÿç­‰ï¼‰\n- å®ä½“é—´çš„å…³ç³»ï¼ˆéš¶å±ã€è´Ÿè´£ã€è§„å®šç­‰ï¼‰\n\nè¯·ä¸Šä¼ æ–‡æ¡£æˆ–ç›´æ¥è¾“å…¥æ–‡æœ¬å†…å®¹è¿›è¡Œåˆ†æã€‚
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
    - ä¸Šä¼ æ–‡æ¡£è¿›è¡Œå®ä½“å’Œå…³ç³»æå–
    - åˆ†æè¿™ä»½æ–‡ä»¶ä¸­çš„æœºæ„å’ŒèŒè´£å…³ç³»
    - æŠ½å–æ–‡æœ¬ä¸­çš„å…³é”®ä¿¡æ¯ç»“æ„
    suggested_questions_after_answer:
      enabled: true
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: start
        targetType: llm
      id: start-llm
      source: start
      sourceHandle: source
      target: llm
      targetHandle: target
      type: custom
    - data:
        sourceType: llm
        targetType: answer
      id: llm-answer
      source: llm
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
    nodes:
    - data:
        selected: false
        title: ç”¨æˆ·è¾“å…¥
        type: start
        variables: []
      height: 73
      id: start
      position:
        x: 78.3444934402304
        y: 282
      positionAbsolute:
        x: 78.3444934402304
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        memory:
          query_prompt_template: '{{#sys.query#}}


            {{#sys.files#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 50
        model:
          completion_params: {}
          mode: chat
          name: glm-4.7
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: 76c4eb52-f199-4ed8-8438-a2e216dedd8f
          role: system
          text: "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ä¿¡æ¯æŠ½å–ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯ä»ç”¨æˆ·æä¾›çš„æ–‡æœ¬æˆ–ä¸Šä¼ çš„æ–‡æ¡£ä¸­æŠ½å–\"å®ä½“\"å’Œ\"å®ä½“ä¹‹é—´çš„å…³ç³»\"ã€‚\n\n## é€‚ç”¨åœºæ™¯\n\
            - ä»æ³•è§„/åˆ¶åº¦/å…¬æ–‡ä¸­æŠ½å–ï¼šæœºæ„-èŒè´£ã€æ–‡ä»¶-ä¾æ®ã€ç³»ç»Ÿ-ä½¿ç”¨ã€éƒ¨é—¨-éš¶å±ç­‰å…³ç³»\n- ä»ä¸šåŠ¡æµç¨‹ä¸­æŠ½å–ï¼šè§’è‰²-èŒè´£ã€æ­¥éª¤-é¡ºåºã€ç³»ç»Ÿ-åŠŸèƒ½ç­‰å…³ç³»\n\
            - ä¸ºçŸ¥è¯†åº“æ„å»ºç»“æ„åŒ–ç´¢å¼•ï¼Œç”¨äºåç»­é—®ç­”æ—¶åš\"å…³ç³»è¿½æº¯/è¯æ®ä¸²è”\"\n\n## æŠ½å–è§„åˆ™\n1. **å®ä½“è¯†åˆ«**ï¼šè¯†åˆ«æ–‡æœ¬ä¸­æ‰€æœ‰é‡è¦çš„å®ä½“ï¼ˆäººã€æœºæ„ã€æ¦‚å¿µã€ç³»ç»Ÿã€æ–‡ä»¶ç­‰ï¼‰\n\
            2. **å…³ç³»æŠ½å–**ï¼šè¯†åˆ«å®ä½“ä¹‹é—´çš„æ˜ç¡®å…³ç³»ï¼ˆä¸è¦ç¼–é€ ï¼‰\n3. **å‘½åç»Ÿä¸€**ï¼šåŒä¸€å®ä½“åœ¨ä¸åŒåœ°æ–¹å‡ºç°æ—¶ï¼Œä½¿ç”¨ç»Ÿä¸€çš„åç§°\n4. **ç±»å‹è§„èŒƒ**ï¼šå®ä½“\
            \ type å¿…é¡»ä»ä»¥ä¸‹é€‰æ‹©ï¼šæ³•è§„ã€æœºæ„ã€éƒ¨é—¨ã€äººå‘˜ã€æ¦‚å¿µã€ç³»ç»Ÿã€æ–‡ä»¶ã€åœ°ç‚¹ã€å…¶ä»–\n5. **å…³ç³»æ ‡å‡†åŒ–**ï¼šä½¿ç”¨æ ‡å‡†åŠ¨è¯çŸ­è¯­ï¼Œå¦‚ï¼š\"\
            éš¶å±äº\"ã€\"è´Ÿè´£\"ã€\"è§„å®š\"ã€\"é€‚ç”¨äº\"ã€\"å‘å¸ƒ\"ã€\"å¼•ç”¨\"ã€\"åŒ…å«\"ã€\"ä½¿ç”¨\"ã€\"å®¡æ‰¹\"ã€\"æ‰§è¡Œ\"\
            ã€\"ä¾æ®\"\n\n## å­—æ®µè¯´æ˜\n- **id**: å®ä½“æˆ–å…³ç³»çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆä½¿ç”¨ç®€çŸ­è‹±æ–‡æˆ–æ‹¼éŸ³ï¼Œå¦‚ entity_1, rel_1ï¼‰\n\
            - **name**: å®ä½“åç§°ï¼ˆä»æ–‡æœ¬ä¸­æå–çš„åŸå§‹åç§°ï¼‰\n- **type**: å®ä½“ç±»å‹ï¼ˆä»è§„å®šçš„ç±»å‹ä¸­é€‰æ‹©ï¼‰\n- **aliases**:\
            \ å®ä½“çš„åˆ«ååˆ—è¡¨ï¼ˆå¦‚æœæ–‡æœ¬ä¸­æœ‰å¤šç§å«æ³•ï¼‰\n- **attributes.article**: å®ä½“ç›¸å…³çš„æ¡æ¬¾æˆ–æ¥æºä¿¡æ¯\n- **confidence**:\
            \ ç½®ä¿¡åº¦ï¼ˆ0-1ä¹‹é—´ï¼Œè¡¨ç¤ºå¯¹æŠ½å–ç»“æœçš„ç¡®ä¿¡ç¨‹åº¦ï¼‰\n- **relation_type**: å…³ç³»ç±»å‹ï¼ˆä½¿ç”¨æ ‡å‡†åŠ¨è¯çŸ­è¯­ï¼‰\n- **source/target**:\
            \ å…³ç³»çš„æºå®ä½“å’Œç›®æ ‡å®ä½“çš„ id\n- **attributes.description**: å…³ç³»çš„æè¿°æˆ–åŸæ–‡è¯æ®\n\n## ç¤ºä¾‹\n\
            è¾“å…¥æ–‡æœ¬ï¼š\"ã€Šæ•°æ®å®‰å…¨æ³•ã€‹ç¬¬äºŒåä¸€æ¡è§„å®šå›½å®¶å»ºç«‹æ•°æ®åˆ†ç±»åˆ†çº§ä¿æŠ¤åˆ¶åº¦ã€‚è´¢åŠ¡éƒ¨é—¨è´Ÿè´£å®¡æ‰¹æŠ¥é”€ç”³è¯·ã€‚\"\n\nè¾“å‡ºï¼š\n{\n  \"query\"\
            : \"å®ä½“æŠ½å–\",\n  \"entities\": [\n    {\n      \"id\": \"entity_1\",\n \
            \     \"name\": \"æ•°æ®å®‰å…¨æ³•\",\n      \"type\": \"æ³•è§„\",\n      \"aliases\"\
            : [],\n      \"attributes\": {\"article\": \"ç¬¬äºŒåä¸€æ¡\"},\n      \"confidence\"\
            : 1.0\n    },\n    {\n      \"id\": \"entity_2\",\n      \"name\": \"\
            æ•°æ®åˆ†ç±»åˆ†çº§ä¿æŠ¤åˆ¶åº¦\",\n      \"type\": \"æ¦‚å¿µ\",\n      \"aliases\": [],\n     \
            \ \"attributes\": {\"article\": \"\"},\n      \"confidence\": 1.0\n  \
            \  },\n    {\n      \"id\": \"entity_3\",\n      \"name\": \"è´¢åŠ¡éƒ¨é—¨\",\n\
            \      \"type\": \"éƒ¨é—¨\",\n      \"aliases\": [\"è´¢åŠ¡\"],\n      \"attributes\"\
            : {\"article\": \"\"},\n      \"confidence\": 1.0\n    },\n    {\n   \
            \   \"id\": \"entity_4\",\n      \"name\": \"æŠ¥é”€ç”³è¯·\",\n      \"type\":\
            \ \"æ¦‚å¿µ\",\n      \"aliases\": [],\n      \"attributes\": {\"article\"\
            : \"\"},\n      \"confidence\": 1.0\n    }\n  ],\n  \"relations\": [\n\
            \    {\n      \"id\": \"rel_1\",\n      \"source\": \"entity_1\",\n  \
            \    \"relation_type\": \"è§„å®š\",\n      \"target\": \"entity_2\",\n   \
            \   \"attributes\": {\n        \"description\": \"ã€Šæ•°æ®å®‰å…¨æ³•ã€‹ç¬¬äºŒåä¸€æ¡è§„å®šå›½å®¶å»ºç«‹æ•°æ®åˆ†ç±»åˆ†çº§ä¿æŠ¤åˆ¶åº¦\"\
            \n      },\n      \"confidence\": 1.0\n    },\n    {\n      \"id\": \"\
            rel_2\",\n      \"source\": \"entity_3\",\n      \"relation_type\": \"\
            è´Ÿè´£\",\n      \"target\": \"entity_4\",\n      \"attributes\": {\n    \
            \    \"description\": \"è´¢åŠ¡éƒ¨é—¨è´Ÿè´£å®¡æ‰¹æŠ¥é”€ç”³è¯·\"\n      },\n      \"confidence\"\
            : 1.0\n    }\n  ]\n}\n\nç°åœ¨è¯·åˆ†æç”¨æˆ·æä¾›çš„æ–‡æœ¬ï¼Œæå–æ‰€æœ‰å®ä½“å’Œå…³ç³»ã€‚"
        - id: b8058db3-ebf8-4a91-be46-7b0a5383e2dc
          role: user
          text: '{{#sys.query#}}\n\n{{#sys.files#}}'
        reasoning_format: tagged
        selected: false
        structured_output:
          schema:
            additionalProperties: false
            properties:
              entities:
                items:
                  additionalProperties: false
                  properties:
                    aliases:
                      items:
                        type: string
                      type: array
                    attributes:
                      additionalProperties: false
                      properties:
                        article:
                          type: string
                      required:
                      - article
                      type: object
                    confidence:
                      type: number
                    id:
                      type: string
                    name:
                      type: string
                    type:
                      type: string
                  required:
                  - id
                  - name
                  - type
                  - aliases
                  - attributes
                  - confidence
                  type: object
                type: array
              query:
                type: string
              relations:
                items:
                  additionalProperties: false
                  properties:
                    attributes:
                      additionalProperties: false
                      properties:
                        description:
                          type: string
                      required:
                      - description
                      type: object
                    confidence:
                      type: number
                    id:
                      type: string
                    relation_type:
                      type: string
                    source:
                      type: string
                    target:
                      type: string
                  required:
                  - id
                  - source
                  - relation_type
                  - target
                  - attributes
                  - confidence
                  type: object
                type: array
            required:
            - query
            - entities
            - relations
            type: object
        structured_output_enabled: true
        title: LLM
        type: llm
        vision:
          enabled: false
      height: 88
      id: llm
      position:
        x: 378.3444934402304
        y: 282
      positionAbsolute:
        x: 378.3444934402304
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#llm.text#}}'
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 103
      id: answer
      position:
        x: 680
        y: 282
      positionAbsolute:
        x: 680
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: 343.7962003534176
      y: 34.458826995895436
      zoom: 0.8277532798848121
  rag_pipeline_variables: []
