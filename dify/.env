# ============================================
# Dify API 配置
# ============================================
# 复制此文件为 .env 并填入实际值

# Dify API 基地址
# - 当前使用官方云版：https://api.dify.ai/v1
# - 后续自建版本：http://your-server-ip/v1
DIFY_API_BASE_URL=http://127.0.0.1:19090/v1

# ============================================
# API Keys 配置说明
# ============================================
# 
# 如何获取 API Key：
# 
# 1. 知识库 API Key：
#    登录 Dify → 左侧菜单「知识库」→ 右上角「API 管理」→ 复制 API Key
#    格式：dataset-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
#
# 2. 应用 API Key（Workflow / Chat App）：
#    登录 Dify → 左侧菜单「工作室」→ 选择应用 → 右上角「访问 API」→ 复制 API Key
#    格式：app-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
#
# 注意：
# - 所有环境（开发/测试/生产）共用一套 API Keys
# - 不要将此文件提交到 Git（已在 .gitignore 中）
# - 生产环境建议使用环境变量或密钥管理服务
#
# ============================================

# 知识库管理 API Key
# 用途：创建知识库、上传文档、删除文档
# 获取：Dify → 知识库 → API 管理
DIFY_DATASET_API_KEY=dataset-SAcP29LHxuZHbUsxpLj88OR7

# 公文起草 Workflow API Key
# 用途：调用公文起草工作流
# 获取：Dify → 工作室 → 公文起草应用 → 访问 API
DIFY_APP_DOC_DRAFT_KEY=app-bpLEOvlKetqyxFM8GhSs9gIR

# 公文审查 Workflow API Key
# 用途：调用公文审查工作流（错别字/语法/敏感词检测）
# 获取：Dify → 工作室 → 公文审查应用 → 访问 API
DIFY_APP_DOC_CHECK_KEY=app-bpLEOvlKetqyxFM8GhSs9gIR

# 公文优化 Workflow API Key
# 用途：调用公文优化工作流
# 获取：Dify → 工作室 → 公文优化应用 → 访问 API
DIFY_APP_DOC_OPTIMIZE_KEY=app-bpLEOvlKetqyxFM8GhSs9gIR

# RAG 问答 Chat App API Key
# 用途：智能问答（基于知识库的 RAG 对话）
# 获取：Dify → 工作室 → 智能问答应用 → 访问 API
DIFY_APP_QA_CHAT_KEY=app-bpLEOvlKetqyxFM8GhSs9gIR

# 实体抽取 Workflow API Key
# 用途：从文本中抽取实体和关系（用于知识图谱）
# 获取：Dify → 工作室 → 实体抽取应用 → 访问 API
DIFY_APP_ENTITY_EXTRACT_KEY=app-bpLEOvlKetqyxFM8GhSs9gIR

# ============================================
# 客户端配置
# ============================================

# 请求超时时间（秒）
DIFY_TIMEOUT=120

# 最大重试次数
DIFY_MAX_RETRIES=3

# 最大文件大小（字节，默认 15MB）
DIFY_MAX_FILE_SIZE=15728640


# ============================================
# 客户端配置
# ============================================

# 请求超时时间（秒）
# 建议：公文生成等耗时操作设置较长超时
DIFY_TIMEOUT=120

# 最大重试次数
# 建议：网络不稳定时增加重试次数
DIFY_MAX_RETRIES=3

# 最大文件大小（字节，默认 15MB）
# Dify 限制：单文件 ≤ 15MB
DIFY_MAX_FILE_SIZE=15728640

# ============================================
# 文件存储配置
# ============================================
# 支持本地文件系统和 OSS 对象存储

# 存储类型：local（本地）或 oss（对象存储）
FILE_STORAGE_TYPE=local

# 本地存储配置
LOCAL_STORAGE_PATH=./uploads

# OSS 存储配置（使用 OSS 时需要配置）
# OSS_ENDPOINT=https://oss-cn-hangzhou.aliyuncs.com
# OSS_ACCESS_KEY_ID=your-access-key-id
# OSS_ACCESS_KEY_SECRET=your-access-key-secret
# OSS_BUCKET_NAME=your-bucket-name

# ============================================
# 知识图谱配置（Apache AGE）
# ============================================

# PostgreSQL 连接配置（AGE 基于 PostgreSQL）
# HOST后期改成需要搭建的服务器上
AGE_DB_HOST=43.138.210.137
AGE_DB_PORT=5432
AGE_DB_NAME=gov_ai
AGE_DB_USER=postgres
AGE_DB_PASSWORD=admin
AGE_GRAPH_NAME=gov_graph
# AGE 图数据库名称
AGE_GRAPH_NAME=knowledge_graph

# ============================================
# 环境标识
# ============================================

# 当前环境：development / testing / production
ENVIRONMENT=development

# 是否启用调试日志
DEBUG=true
