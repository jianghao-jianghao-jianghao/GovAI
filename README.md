<div align="center">

# ğŸ›ï¸ GovAI Â· æ™ºæ”¿å…¬æ–‡å¤„ç†ç³»ç»Ÿ

**AI é©±åŠ¨çš„æ”¿åŠ¡å…¬æ–‡å…¨æµç¨‹æ™ºèƒ½å¤„ç†å¹³å°**

[![FastAPI](https://img.shields.io/badge/FastAPI-0.115-009688?logo=fastapi)](https://fastapi.tiangolo.com/)
[![React](https://img.shields.io/badge/React-19-61DAFB?logo=react)](https://react.dev/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.8-3178C6?logo=typescript)](https://www.typescriptlang.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16+-336791?logo=postgresql)](https://www.postgresql.org/)
[![Docker](https://img.shields.io/badge/Docker-Compose-2496ED?logo=docker)](https://docs.docker.com/compose/)
[![Dify](https://img.shields.io/badge/Dify-LLM%20Backend-7C3AED)](https://dify.ai/)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

GovAI æ˜¯ä¸€ä¸ªé¢å‘æ”¿åŠ¡åœºæ™¯çš„ AI å…¬æ–‡å¤„ç†å¹³å°ï¼Œé›†æˆäº†å…¬æ–‡**æ™ºèƒ½èµ·è‰**ã€**å®¡æŸ¥ä¼˜åŒ–**ã€**æ ¼å¼è§„èŒƒåŒ–**ä¸‰å¤§æµæ°´çº¿é˜¶æ®µï¼Œä»¥åŠ**çŸ¥è¯†åº“é—®ç­”ï¼ˆRAGï¼‰**ã€**çŸ¥è¯†å›¾è°±**ã€**æ•æ„Ÿè¯ç®¡ç†**ç­‰è¾…åŠ©åŠŸèƒ½ã€‚ç³»ç»Ÿé€šè¿‡æ¥å…¥ [Dify](https://dify.ai/) å·¥ä½œæµå¼•æ“è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ï¼Œå®ç°å…¬æ–‡å¤„ç†çš„ç«¯åˆ°ç«¯æ™ºèƒ½åŒ–ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

| åŠŸèƒ½æ¨¡å—                 | è¯´æ˜                                                                              |
| ------------------------ | --------------------------------------------------------------------------------- |
| ğŸ“ **æ™ºèƒ½å…¬æ–‡èµ·è‰**      | ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ æ–‡æ¡£ â†’ AI æ ¹æ®æŒ‡ä»¤è‡ªåŠ¨èµ·è‰å…¬æ–‡ï¼Œæ”¯æŒæµå¼è¾“å‡º                        |
| ğŸ” **å®¡æŸ¥ä¼˜åŒ–**          | AI é€æ¡å®¡æŸ¥å…¬æ–‡ï¼Œç»™å‡ºç»“æ„åŒ–ä¿®æ”¹å»ºè®®ï¼ˆå«ä¸¥é‡ç¨‹åº¦ã€åŸæ–‡/å»ºè®®å¯¹ç…§ï¼‰ï¼Œæ”¯æŒä¸€é”®é‡‡çº³    |
| ğŸ¨ **æ ¼å¼è§„èŒƒåŒ–**        | æŒ‰ GB/T 9704 ç­‰æ ‡å‡†è‡ªåŠ¨æ’ç‰ˆï¼ˆå­—ä½“ã€å­—å·ã€è¡Œè·ã€ç¼©è¿›ã€é¢œè‰²ï¼‰ï¼Œç»“æ„åŒ–æ®µè½å®æ—¶é¢„è§ˆ   |
| ğŸ’¬ **æ™ºèƒ½çŸ¥è¯†é—®ç­”**      | åŸºäº Dify RAG çš„çŸ¥è¯†åº“é—®ç­”ï¼Œæ”¯æŒå¤šè½®å¯¹è¯ä¸å¼•ç”¨æº¯æº                                |
| ğŸ•¸ï¸ **çŸ¥è¯†å›¾è°±**          | å®ä½“ä¸å…³ç³»è‡ªåŠ¨æŠ½å–ï¼ŒApache AGE å›¾æ•°æ®åº“å­˜å‚¨ä¸å¯è§†åŒ–                               |
| ğŸ“š **çŸ¥è¯†åº“ç®¡ç†**        | æ•°æ®é›† / æ–‡æ¡£ / åˆ†æ®µçš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œå¯¹æ¥ Dify Dataset API                       |
| ğŸ›¡ï¸ **æ•æ„Ÿè¯ç®¡ç†**        | å¤šçº§åˆ«ï¼ˆé«˜/ä¸­/ä½ï¼‰æ•æ„Ÿè¯è§„åˆ™åº“ï¼Œæ”¯æŒé˜»æ–­ä¸å‘Šè­¦                                    |
| ğŸ‘¥ **ç”¨æˆ·ä¸æƒé™**        | RBAC è§’è‰²æƒé™ä½“ç³»ï¼ŒJWT è®¤è¯ï¼Œæ“ä½œå®¡è®¡æ—¥å¿—                                         |
| ğŸ“‹ **ç‰ˆæœ¬ç®¡ç†**          | å…¬æ–‡å†…å®¹ç‰ˆæœ¬å¿«ç…§ï¼Œæ”¯æŒæ’¤é”€/é‡åšä¸å†å²ç‰ˆæœ¬å›é€€                                     |
| ğŸ—‚ï¸ **ç´ æåº“ & å¸¸ç”¨æŒ‡ä»¤** | å¯å¤ç”¨çš„å…¬æ–‡ç´ æç‰‡æ®µ + ä¸‰é˜¶æ®µå¸¸ç”¨ AI æŒ‡ä»¤æ¨¡æ¿                                     |
| ğŸ–¨ï¸ **æ ¼å¼é¢„è®¾**          | å†…ç½® 6 å¥—æ’ç‰ˆé¢„è®¾ï¼ˆGB/T 9704ã€å­¦æœ¯è®ºæ–‡ã€æ³•å¾‹æ–‡ä¹¦ç­‰ï¼‰ï¼Œæ”¯æŒè‡ªå®šä¹‰ CRUD             |
| ğŸ“¥ **é«˜ç²¾åº¦å¯¼å‡º**        | DOCXï¼ˆpython-docx åŸç”Ÿ Word XMLï¼‰+ PDFï¼ˆPlaywright åƒç´ çº§æ¸²æŸ“ï¼‰ï¼Œå†…ç½®å®Œæ•´å…¬æ–‡å­—ä½“ |

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·æµè§ˆå™¨ (React SPA)                  â”‚
â”‚   React 19 + TypeScript + Vite + Tailwind CSS            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ HTTP / SSE
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Nginx åå‘ä»£ç† (:3000)                       â”‚
â”‚   é™æ€æ–‡ä»¶ + /api â†’ backend:8000                         â”‚
â”‚   SSE proxy_read_timeout 300s                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             FastAPI åç«¯ (:8000)                          â”‚
â”‚   å¼‚æ­¥ SQLAlchemy + httpx æµå¼ä»£ç†                        â”‚
â”‚   JWT è®¤è¯ Â· RBAC æƒé™ Â· å®¡è®¡æ—¥å¿—                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PostgreSQLâ”‚  Redis   â”‚ Converter â”‚    Dify å·¥ä½œæµå¼•æ“      â”‚
â”‚  + AGE    â”‚ (ç¼“å­˜)   â”‚ (æ–‡æ¡£è½¬æ¢) â”‚  (LLM / RAG / DSL)    â”‚
â”‚  :15432   â”‚  :6379   â”‚  :8001    â”‚   å¤–éƒ¨æœåŠ¡              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

#### å‰ç«¯

- **React 19** + **TypeScript 5.8** â€” å‡½æ•°ç»„ä»¶ + Hooks
- **Vite 6** â€” æé€Ÿå¼€å‘æœåŠ¡å™¨ä¸æ„å»º
- **Tailwind CSS** â€” åŸå­åŒ–æ ·å¼ï¼ˆé€šè¿‡ CDNï¼‰
- **Lucide React** â€” å›¾æ ‡åº“
- **React Markdown** + remark-gfm â€” Markdown æ¸²æŸ“
- **SSE (Server-Sent Events)** â€” AI æµå¼è¾“å‡ºå®æ—¶å±•ç¤º

#### åç«¯

- **Python 3.11** + **FastAPI 0.115** â€” é«˜æ€§èƒ½å¼‚æ­¥ API
- **SQLAlchemy 2.0** (asyncpg) â€” å¼‚æ­¥ ORM
- **Alembic** â€” æ•°æ®åº“è¿ç§»
- **httpx** â€” å¼‚æ­¥ HTTP å®¢æˆ·ç«¯ï¼ˆDify API æµå¼ä»£ç†ï¼‰
- **python-jose** + **passlib** â€” JWT è®¤è¯
- **Redis 7** â€” ä¼šè¯ç¼“å­˜
- **python-docx** + **json_repair** â€” æ–‡æ¡£å¤„ç†/JSON ä¿®å¤
- **Playwright** (Chromium) â€” é«˜ç²¾åº¦ PDF å¯¼å‡ºï¼ˆHTML â†’ PDF åƒç´ çº§æ¸²æŸ“ï¼‰
- **Jinja2** â€” å¯¼å‡º HTML æ¨¡æ¿å¼•æ“

#### æ•°æ®åº“

- **PostgreSQL 16** + **Apache AGE** â€” å…³ç³»å‹ + å›¾æ•°æ®åº“
- **pgAdmin 4** â€” æ•°æ®åº“ç®¡ç†é¢æ¿ (:5050)

#### AI / LLM

- **Dify** â€” å·¥ä½œæµç¼–æ’å¼•æ“ï¼Œç®¡ç†æ‰€æœ‰ LLM è°ƒç”¨
  - Chatflow DSLï¼šèµ·è‰ã€å®¡æŸ¥ã€æ ¼å¼åŒ–ã€çŸ¥è¯†é—®ç­”ã€å®ä½“æŠ½å–ç­‰
  - Dataset APIï¼šçŸ¥è¯†åº“ CRUD + RAG æ£€ç´¢

#### åŸºç¡€è®¾æ–½

- **Docker Compose** â€” ä¸€é”®ç¼–æ’æ‰€æœ‰æœåŠ¡
- **Nginx** â€” å‰ç«¯é™æ€æœåŠ¡ + API åå‘ä»£ç†
- **Converter å¾®æœåŠ¡** â€” LibreOffice é©±åŠ¨çš„ DOCX/PDF è½¬æ¢
- **å…¬æ–‡å­—ä½“åŒ…** â€” ä»¿å®‹ã€é»‘ä½“ã€æ¥·ä½“ã€å®‹ä½“ã€æ–¹æ­£å°æ ‡å®‹ã€Times New Roman ç­‰ 13 å¥—å­—ä½“å†…ç½®äº Docker é•œåƒ

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
GovAI/
â”œâ”€â”€ index.html              # SPA å…¥å£
â”œâ”€â”€ index.tsx               # React æ ¹ç»„ä»¶
â”œâ”€â”€ vite.config.ts          # Vite é…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScript é…ç½®
â”œâ”€â”€ package.json            # å‰ç«¯ä¾èµ–
â”œâ”€â”€ docker-compose.yml      # Docker ç¼–æ’
â”œâ”€â”€ nginx.conf              # Nginx é…ç½®
â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡ï¼ˆDify Key ç­‰ï¼‰
â”‚
â”œâ”€â”€ api/                    # å‰ç«¯ API å±‚
â”‚   â”œâ”€â”€ client.ts           # axios å°è£…ï¼ˆæ‹¦æˆªå™¨ã€Tokenï¼‰
â”‚   â”œâ”€â”€ auth.ts             # è®¤è¯ API
â”‚   â”œâ”€â”€ documents.ts        # å…¬æ–‡ CRUD + AI å¤„ç† + ç‰ˆæœ¬
â”‚   â”œâ”€â”€ chat.ts             # æ™ºèƒ½é—®ç­” API
â”‚   â”œâ”€â”€ kb.ts               # çŸ¥è¯†åº“ API
â”‚   â”œâ”€â”€ graph.ts            # çŸ¥è¯†å›¾è°± API
â”‚   â”œâ”€â”€ users.ts            # ç”¨æˆ·ç®¡ç† API
â”‚   â”œâ”€â”€ audit.ts            # å®¡è®¡æ—¥å¿— API
â”‚   â”œâ”€â”€ sensitive.ts        # æ•æ„Ÿè¯ API
â”‚   â””â”€â”€ index.ts            # ç»Ÿä¸€å¯¼å‡º
â”‚
â”œâ”€â”€ views/                  # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ SmartDocView.tsx     # æ™ºèƒ½æ–‡æ¡£ï¼ˆä¸‰é˜¶æ®µæµæ°´çº¿ï¼‰
â”‚   â”œâ”€â”€ SmartQAView.tsx      # æ™ºèƒ½çŸ¥è¯†é—®ç­”
â”‚   â”œâ”€â”€ KBView.tsx           # çŸ¥è¯†åº“ç®¡ç†
â”‚   â”œâ”€â”€ GraphView.tsx        # çŸ¥è¯†å›¾è°±
â”‚   â”œâ”€â”€ UserManagementView.tsx # ç”¨æˆ·ä¸è§’è‰²ç®¡ç†
â”‚   â”œâ”€â”€ AuditLogView.tsx     # å®¡è®¡æ—¥å¿—
â”‚   â””â”€â”€ LoginView.tsx        # ç™»å½•é¡µ
â”‚
â”œâ”€â”€ components/             # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ ui.tsx              # åŸºç¡€ UI ç»„ä»¶ï¼ˆModalã€EmptyState ç­‰ï¼‰
â”‚   â””â”€â”€ StructuredDocRenderer.tsx  # ç»“æ„åŒ–å…¬æ–‡æ¸²æŸ“å™¨
â”‚
â”œâ”€â”€ backend/                # FastAPI åç«¯
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py         # FastAPI åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ api/            # è·¯ç”±å±‚ï¼ˆRESTful + SSEï¼‰
â”‚   â”‚   â”œâ”€â”€ models/         # SQLAlchemy æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ schemas/        # Pydantic è¯·æ±‚/å“åº”æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ html_export.py  # é«˜ç²¾åº¦ HTML/PDF å¯¼å‡ºæœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ templates/      # Jinja2 å¯¼å‡ºæ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ doc_export.html  # PDF å¯¼å‡º HTML æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ core/           # é…ç½®ã€ä¾èµ–æ³¨å…¥ã€ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ fonts/              # å…¬æ–‡ä¸“ç”¨å­—ä½“ï¼ˆä»¿å®‹/é»‘ä½“/æ¥·ä½“/å®‹ä½“/æ–¹æ­£å°æ ‡å®‹/Times New Roman ç­‰ï¼‰
â”‚   â”œâ”€â”€ alembic/            # æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ requirements.txt    # Python ä¾èµ–
â”‚   â””â”€â”€ Dockerfile          # åç«¯å®¹å™¨æ„å»ºï¼ˆå« Chromium + å­—ä½“ï¼‰
â”‚
â”œâ”€â”€ dify/                   # Dify å·¥ä½œæµç›¸å…³
â”‚   â”œâ”€â”€ services/           # Dify API å®¢æˆ·ç«¯å°è£…
â”‚   â”‚   â”œâ”€â”€ dify/client.py  # æ ¸å¿ƒå®¢æˆ·ç«¯ï¼ˆæµå¼è§£æã€å½’ä¸€åŒ–ï¼‰
â”‚   â”‚   â””â”€â”€ graph/          # å›¾è°±æœåŠ¡
â”‚   â”œâ”€â”€ workflows_dsl/      # Chatflow DSL å®šä¹‰æ–‡ä»¶
â”‚   â”œâ”€â”€ test_knowledge/     # çŸ¥è¯†åº“æµ‹è¯•ç´ æ
â”‚   â””â”€â”€ tests/              # Dify é›†æˆæµ‹è¯•
â”‚
â””â”€â”€ doc/                    # è®¾è®¡æ–‡æ¡£
    â”œâ”€â”€ schema.sql          # å®Œæ•´æ•°æ®åº“ DDL
    â”œâ”€â”€ plan.md             # ç³»ç»Ÿè§„åˆ’
    â””â”€â”€ *.yaml              # API è§„èŒƒ
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

- **Docker Desktop** (å« Docker Compose v2)
- **Node.js 18+** & **pnpm**ï¼ˆç”¨äºå‰ç«¯å¼€å‘/æ„å»ºï¼‰
- **Dify å®ä¾‹**ï¼ˆè‡ªéƒ¨ç½²æˆ– SaaSï¼‰ï¼Œéœ€é…ç½®å¥½å·¥ä½œæµå¹¶è·å– API Key

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-org/GovAI.git
cd GovAI
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å†™å¿…è¦çš„é…ç½®ï¼š

```env
# â”€â”€ æ•°æ®åº“ â”€â”€
POSTGRES_USER=govai_user
POSTGRES_PASSWORD=govai_password
POSTGRES_DB=govai_db

# â”€â”€ è®¤è¯ â”€â”€
JWT_SECRET_KEY=your-secret-key-change-in-production

# â”€â”€ Dify é…ç½® â”€â”€
DIFY_BASE_URL=http://your-dify-host/v1
DIFY_DATASET_API_KEY=dataset-xxxxxxxx
DIFY_APP_DOC_DRAFT_KEY=app-xxxxxxxx      # å…¬æ–‡èµ·è‰å·¥ä½œæµ
DIFY_APP_DOC_CHECK_KEY=app-xxxxxxxx      # å…¬æ–‡å®¡æŸ¥å·¥ä½œæµ
DIFY_APP_DOC_FORMAT_KEY=app-xxxxxxxx     # å…¬æ–‡æ ¼å¼åŒ–å·¥ä½œæµ
DIFY_APP_CHAT_KEY=app-xxxxxxxx           # çŸ¥è¯†é—®ç­”å·¥ä½œæµ
DIFY_APP_ENTITY_EXTRACT_KEY=app-xxxxxxxx # å®ä½“æŠ½å–å·¥ä½œæµ
```

### 3. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨æ ¸å¿ƒæœåŠ¡ï¼ˆæ•°æ®åº“ã€Redisã€åç«¯ã€å‰ç«¯ï¼‰
docker compose up -d

# å¯åŠ¨å…¨éƒ¨æœåŠ¡ï¼ˆå«æ–‡æ¡£è½¬æ¢å™¨å¾®æœåŠ¡ï¼‰
docker compose --profile full up -d
```

### 4. åˆå§‹åŒ–

ç³»ç»Ÿé¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨ï¼š

- æ‰§è¡Œ `schema.sql` åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
- åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦æˆ·

**é»˜è®¤ç™»å½•å‡­è¯ï¼š**

- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`admin123`

### 5. è®¿é—®ç³»ç»Ÿ

| æœåŠ¡        | åœ°å€                                 |
| ----------- | ------------------------------------ |
| ğŸŒ å‰ç«¯ç•Œé¢ | http://localhost:3000                |
| ğŸ“¡ åç«¯ API | http://localhost:8000/docs (Swagger) |
| ğŸ—„ï¸ pgAdmin  | http://localhost:5050                |

---

## ğŸ”§ å¼€å‘æŒ‡å—

### å‰ç«¯å¼€å‘

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆHMR çƒ­æ›´æ–°ï¼‰
pnpm run dev
# â†’ http://localhost:5173

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm run build
```

### åç«¯å¼€å‘

åç«¯ä»£ç é€šè¿‡ Docker volume æŒ‚è½½ï¼ˆ`./backend:/app`ï¼‰ï¼Œä¿®æ”¹ä»£ç åé‡å¯å®¹å™¨å³å¯ç”Ÿæ•ˆï¼š

```bash
docker restart govai-backend
```

### éƒ¨ç½²æ›´æ–°ï¼ˆå‰ç«¯æ„å»º â†’ å®¹å™¨ï¼‰

```bash
# 1. æ„å»ºå‰ç«¯
pnpm run build

# 2. å¤åˆ¶åˆ° nginx å®¹å™¨
docker cp dist/. govai-frontend:/usr/share/nginx/html/

# 3. é‡è½½ nginx
docker exec govai-frontend nginx -s reload

# 4. é‡å¯åç«¯ï¼ˆå¦‚æœ‰åç«¯æ”¹åŠ¨ï¼‰
docker restart govai-backend
```

### æ•°æ®åº“è¿ç§»

```bash
# è¿›å…¥åç«¯å®¹å™¨
docker exec -it govai-backend bash

# ç”Ÿæˆè¿ç§»è„šæœ¬
alembic revision --autogenerate -m "æè¿°"

# æ‰§è¡Œè¿ç§»
alembic upgrade head
```

---

## ğŸ“‹ åŠŸèƒ½æ¨¡å—è¯¦è§£

### ğŸ”„ æ™ºèƒ½æ–‡æ¡£å¤„ç†æµæ°´çº¿

å…¬æ–‡å¤„ç†çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œé‡‡ç”¨ä¸‰é˜¶æ®µæµæ°´çº¿è®¾è®¡ï¼Œæ¯ä¸ªé˜¶æ®µç‹¬ç«‹è¿è¡Œï¼Œæ”¯æŒè·³è¿‡ï¼š

```
ä¸Šä¼ æ–‡æ¡£ â†’ [ èµ·è‰ ] â†’ [ å®¡æŸ¥ä¼˜åŒ– ] â†’ [ æ ¼å¼è§„èŒƒ ] â†’ å¯¼å‡º/å½’æ¡£
```

#### æ–‡æ¡£å¯¼å…¥

- æ”¯æŒç‚¹å‡»ä¸Šä¼ å’Œ**æ‹–æ‹½ä¸Šä¼ **ï¼ˆ.docx / .doc / .pdf / .txt / .mdï¼‰
- è‡ªåŠ¨é€šè¿‡ Converter å¾®æœåŠ¡æå–æ–‡æœ¬å†…å®¹
- æ–‡æ¡£åˆ—è¡¨æ“ä½œåˆ—æä¾›**ä¸€é”®è¿›å…¥ä¸‰é˜¶æ®µ**ï¼ˆèµ·è‰ / å®¡æŸ¥ / æ ¼å¼åŒ–ï¼‰å¿«æ·å…¥å£

#### é˜¶æ®µä¸€ï¼šæ™ºèƒ½èµ·è‰

- AI æ ¹æ®ç”¨æˆ·æŒ‡ä»¤å¯¹å†…å®¹è¿›è¡Œèµ·è‰/æ”¹å†™
- æµå¼è¾“å‡ºï¼Œå®æ—¶é¢„è§ˆç»“æœ

#### é˜¶æ®µäºŒï¼šå®¡æŸ¥ä¼˜åŒ–

- AI å¯¹å…¬æ–‡è¿›è¡Œé€é¡¹å®¡æŸ¥ï¼Œè¾“å‡ºç»“æ„åŒ–å»ºè®®ï¼š
  - ä¸¥é‡ç¨‹åº¦ï¼ˆerror / warning / infoï¼‰
  - åŸæ–‡å®šä½ + ä¿®æ”¹å»ºè®®
  - é—®é¢˜ç±»å‹åˆ†ç±»
- å³ä¾§é¢æ¿å±•ç¤ºå»ºè®®åˆ—è¡¨ï¼Œä¸€é”®æŸ¥çœ‹è¯¦æƒ…

#### é˜¶æ®µä¸‰ï¼šæ ¼å¼è§„èŒƒåŒ–

- æ”¯æŒ 6 ç§å†…ç½®æ ¼å¼é¢„è®¾ï¼ˆGB/T 9704ã€å­¦æœ¯è®ºæ–‡ã€æ³•å¾‹æ–‡ä¹¦ç­‰ï¼‰
- è‡ªå®šä¹‰æ’ç‰ˆæŒ‡ä»¤ï¼ˆå­—ä½“ã€å­—å·ã€è¡Œè·ã€ç¼©è¿›ã€é¢œè‰²ã€å¯¹é½ç­‰ï¼‰
- **ç»“æ„åŒ–æ®µè½å®æ—¶é¢„è§ˆ**ï¼šæ¯ä¸ªæ®µè½ç‹¬ç«‹å±•ç¤ºæ’ç‰ˆæ•ˆæœ
- é˜²å¹»è§‰æœºåˆ¶ï¼šåç«¯å¯¹ AI è¾“å‡ºçš„å­—ä½“å­—å·è¿›è¡Œå½’ä¸€åŒ–æ ¡éªŒ
- å¤„ç†ç»“æœè‡ªåŠ¨ä¿å­˜åˆ°æ•°æ®åº“

#### é«˜ç²¾åº¦å¯¼å‡º

- **DOCX å¯¼å‡º**ï¼špython-docx ç”ŸæˆåŸç”Ÿ Word XMLï¼Œå››æ§½å­—ä½“ï¼ˆASCII/hAnsi/eastAsia/csï¼‰ã€å›ºå®šè¡Œè·ã€GB/T 9704 é¡µè¾¹è·ã€çº¢çº¿ã€é¡µç åŸŸ
- **PDF å¯¼å‡º**ï¼šPlaywright Chromium æ— å¤´æ¸²æŸ“ï¼Œä¸å‰ç«¯é¢„è§ˆåƒç´ çº§ä¸€è‡´ï¼Œå­—ä½“å†…ç½®äºå®¹å™¨
- å‰ç«¯ä¸‹æ‹‰èœå•ä¸€é”®é€‰æ‹© Word / PDF æ ¼å¼ä¸‹è½½

#### æ’¤é”€/å›é€€

- æœ¬åœ° Undo/Redo æ ˆï¼ˆCtrl+Z / Ctrl+Yï¼‰
- æœåŠ¡ç«¯ç‰ˆæœ¬å†å²ï¼Œæ”¯æŒå›é€€åˆ°ä»»æ„å†å²ç‰ˆæœ¬

### ğŸ’¬ æ™ºèƒ½çŸ¥è¯†é—®ç­” (RAG)

- åŸºäº Dify RAG å·¥ä½œæµçš„å¤šè½®å¯¹è¯
- æ”¯æŒçŸ¥è¯†åº“å¼•ç”¨æº¯æº
- å¤šä¼šè¯ç®¡ç†

### ğŸ•¸ï¸ çŸ¥è¯†å›¾è°±

- ä»å…¬æ–‡ä¸­è‡ªåŠ¨æŠ½å–å®ä½“ä¸å…³ç³»
- Apache AGE å›¾æ•°æ®åº“å­˜å‚¨
- å‰ç«¯å¯è§†åŒ–å±•ç¤º

---

## ğŸ³ Docker æœåŠ¡æ¸…å•

| æœåŠ¡             | å®¹å™¨å          | ç«¯å£  | è¯´æ˜                            |
| ---------------- | --------------- | ----- | ------------------------------- |
| PostgreSQL + AGE | govai-postgres  | 15432 | å…³ç³»å‹ + å›¾æ•°æ®åº“               |
| Redis            | govai-redis     | 6379  | ç¼“å­˜                            |
| FastAPI åç«¯     | govai-backend   | 8000  | API æœåŠ¡                        |
| Nginx å‰ç«¯       | govai-frontend  | 3000  | SPA + åå‘ä»£ç†                  |
| pgAdmin          | govai-pgadmin   | 5050  | æ•°æ®åº“ç®¡ç†                      |
| Converter\*      | govai-converter | 8001  | æ–‡æ¡£è½¬æ¢ï¼ˆéœ€ `--profile full`ï¼‰ |

---

## ğŸ” è®¤è¯ä¸æƒé™

- **JWT Token** è®¤è¯ï¼ŒBearer æ–¹å¼ä¼ é€’
- **RBAC** è§’è‰²æƒé™æ¨¡å‹ï¼š
  - ç®¡ç†å‘˜ï¼ˆadminï¼‰ï¼šå…¨éƒ¨æƒé™
  - æ™®é€šç”¨æˆ·ï¼šæŒ‰è§’è‰²åˆ†é…åŠŸèƒ½æƒé™
- **å®¡è®¡æ—¥å¿—**ï¼šè®°å½•æ‰€æœ‰å…³é”®æ“ä½œï¼ˆç™»å½•ã€æ–‡æ¡£å¢åˆ æ”¹ã€AI å¤„ç†ç­‰ï¼‰

---

## ğŸ“¡ API æ¦‚è§ˆ

åç«¯ API éµå¾ª RESTful è§„èŒƒï¼Œä¸»è¦ç«¯ç‚¹ï¼š

| æ¨¡å—   | è·¯å¾„å‰ç¼€         | åŠŸèƒ½                                        |
| ------ | ---------------- | ------------------------------------------- |
| è®¤è¯   | `/api/auth`      | ç™»å½• / åˆ·æ–° Token / ä¿®æ”¹å¯†ç                 |
| ç”¨æˆ·   | `/api/users`     | ç”¨æˆ· CRUD                                   |
| è§’è‰²   | `/api/roles`     | è§’è‰²ä¸æƒé™ç®¡ç†                              |
| å…¬æ–‡   | `/api/documents` | æ–‡æ¡£ CRUD / å¯¼å…¥å¯¼å‡º / AI å¤„ç† (SSE) / ç‰ˆæœ¬ |
| æ¨¡æ¿   | `/api/templates` | å…¬æ–‡æ¨¡æ¿ç®¡ç†                                |
| ç´ æ   | `/api/materials` | ç´ æåº“ CRUD                                 |
| çŸ¥è¯†åº“ | `/api/knowledge` | æ•°æ®é›† / æ–‡æ¡£ / åˆ†æ®µç®¡ç†                    |
| é—®ç­”   | `/api/qa`        | RAG å¯¹è¯ (SSE)                              |
| å›¾è°±   | `/api/graph`     | å®ä½“æŠ½å– / å›¾æŸ¥è¯¢                           |
| æ•æ„Ÿè¯ | `/api/sensitive` | è§„åˆ™ CRUD / æ–‡æœ¬æ£€æµ‹                        |
| å®¡è®¡   | `/api/audit`     | æ“ä½œæ—¥å¿—æŸ¥è¯¢                                |

> AI å¤„ç†æ¥å£ä½¿ç”¨ **Server-Sent Events (SSE)** å®ç°æµå¼è¾“å‡ºï¼Œnginx é…ç½®äº† 300s è¶…æ—¶ä»¥æ”¯æŒé•¿æ—¶é—´å¤„ç†ã€‚

---

## ğŸ› ï¸ Dify å·¥ä½œæµé…ç½®

ç³»ç»Ÿä¾èµ–ä»¥ä¸‹ Dify Chatflow å·¥ä½œæµï¼ˆDSL æ–‡ä»¶ä½äº `dify/workflows_dsl/`ï¼‰ï¼š

| å·¥ä½œæµ       | ç¯å¢ƒå˜é‡                      | ç”¨é€”                     |
| ------------ | ----------------------------- | ------------------------ |
| æ™ºèƒ½å…¬æ–‡èµ·è‰ | `DIFY_APP_DOC_DRAFT_KEY`      | æ ¹æ®æŒ‡ä»¤ç”Ÿæˆå…¬æ–‡         |
| æ™ºèƒ½å…¬æ–‡å®¡æŸ¥ | `DIFY_APP_DOC_CHECK_KEY`      | å®¡æŸ¥ä¼˜åŒ–ï¼Œè¾“å‡ºç»“æ„åŒ–å»ºè®® |
| æ™ºèƒ½å…¬æ–‡æ’ç‰ˆ | `DIFY_APP_DOC_FORMAT_KEY`     | æŒ‰æ ¼å¼é¢„è®¾è¿›è¡Œæ’ç‰ˆ       |
| æ™ºèƒ½çŸ¥è¯†é—®ç­” | `DIFY_APP_CHAT_KEY`           | RAG çŸ¥è¯†åº“é—®ç­”           |
| å®ä½“å…³ç³»æŠ½å– | `DIFY_APP_ENTITY_EXTRACT_KEY` | å›¾è°±å®ä½“ä¸å…³ç³»æå–       |

---

## ğŸ“„ License

MIT
