## 1. 通用基础能力（两大模块共用）

### 1.1 账号与权限（文档有提到，但需落到具体功能）

- 用户登录/登出（最小化：账号密码）
- 角色：管理员 / 普通用户
- 权限点（建议最小集合）
  - 管理员：用户管理、知识库管理、问答规则配置、模板/素材管理、查看审计日志
  - 普通用户：提问、查看历史记录、创建/编辑自己的公文、导出

### 1.2 操作审计与留存（文档明确）

- 记录操作人、时间、对象、动作（编辑/修改/导出/上传/删除/问答等）
- 留存期限 ≥ 6 个月（实现上通常是：落库 + 定期清理更早记录）

### 1.3 本地存储与文件管理（文档明确方向，但要具体化）

- 上传文件保存（模板文件、知识库文件、导出文件等）
- 文件预览/下载能力（至少支持知识库原文跳转、导出文件下载）
- 存储路径配置（本地目录/对象存储均可，但你项目里建议优先本地）

------

## 2. 智能公文模块（功能点拆解）

### 2.1 公文起草（文档明确）

- 公文类型：请示 / 报告 / 通知（可扩展）
- 结构化表单输入：核心要点、场景信息、主送/抄送/落款/日期等（字段可用 JSON 兜底）
- 一键生成：调用 LLM 生成结构化结果（标题/主送/正文/落款…）

### 2.2 内容优化（文档明确）

- 对已生成内容进行优化：逻辑梳理、措辞严谨、风格适配（不同层级/不同场景）
- 输出“多版方案”供用户选择（至少：方案A/方案B）

### 2.3 内容审核（文档明确）

- 错别字检测
- 语法纠错
- 语义通顺度优化建议
- 不规范用语识别
- 敏感词识别 + 修改建议（敏感词库至少可配置/可维护）

### 2.4 格式规范与模板（文档明确）

- 内置国家/行业格式标准（甲方提供素材与标准）
- 自动排版：字体/字号/行距/页码/落款等
- 自定义格式模板：保存、复用、选择模板生成/导出

### 2.5 素材库（文档标注“额外需求”）

- 素材维护：常用表述、政策术语库
- 检索与引用
- 场景推荐素材（最低可先做：按标签/关键词匹配）

### 2.6 编辑与版本（工程必需补齐，文档未明确但实际必需）

- 在线编辑（生成后允许用户手改）
- 保存草稿/生成态/定稿态
- 版本记录（至少保留最近 N 次或每次保存一版，便于回溯）

### 2.7 导出（文档明确）

- 导出 Word（docx）
- 导出 PDF
- 导出记录可追溯（谁导出、何时导出、导出版本）

------

## 3. 智能问答模块（功能点拆解）

### 3.1 提问与回答（文档明确）

- 文本/短句提问
- 快速输出“准确、简洁”的回答
- 模糊提问识别：引导用户补充信息（澄清式追问）

### 3.2 知识库优先（文档明确）

- 问答优先使用自定义知识库（RAG）
- 当知识库无命中时，允许用大模型通用知识补全（并且要标注来源类型）

### 3.3 多轮上下文（文档明确）

- 会话管理（session）
- 历史上下文续答（同一会话内自动携带上下文）
- 历史记录查看（普通用户可查自己的）

### 3.4 问答溯源（文档明确，需落到可展示形态）

- 对每条回答给出来源：
  - 来自知识库：展示引用文档/段落/页码（若可获取）
  - 来自通用知识：明确标识“模型通用知识/非知识库引用”
- 支持跳转查看原文（打开知识库文件/URL/原文片段定位）

### 3.5 多场景适配 + 问答规则（文档一句话但工程上要拆开）

建议最小化成 3 件事：

- 场景管理：比如“业务答疑/制度查询/流程咨询”等（场景=一套提示词/策略）
- 规则过滤：无效提问（过短、无意义、非业务）、敏感问题（敏感词/黑名单）
- 规则配置入口：管理员可配置（关键词、阈值、拦截策略、提示语）

### 3.6 知识库管理（文档明确）

- 上传、编辑、分类
- 批量导入/导出（最实用：导入文件夹/压缩包、导出为 zip）
- 文档状态：启用/停用
- （如果接 Dify）同步状态：dataset/document 对应关系、重新索引触发

### 3.7 多语言（文档提到）

- 简体中文 / 繁体中文
- 可选：英文处理（建议作为非 MVP）