<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "urn:fontconfig:fonts.dtd">
<!--
  GovAI 自定义 fontconfig 别名配置
  ════════════════════════════════
  解决 python-docx DOCX / WeasyPrint 中的字体名与实际 TTF 注册名不一致的问题。
  例如 DOCX 写 "仿宋_GB2312"，但 simfang.ttf 注册为 "FangSong"。
  使用 <match> + <edit mode="assign"> 强制替换不存在的字体名。
-->
<fontconfig>

  <!-- ═══ 仿宋_GB2312 → FangSong (simfang.ttf) ═══ -->
  <match target="pattern">
    <test qual="any" name="family"><string>仿宋_GB2312</string></test>
    <edit name="family" mode="assign" binding="same"><string>FangSong</string></edit>
  </match>

  <!-- ═══ 楷体_GB2312 → KaiTi (simkai.ttf) ═══ -->
  <match target="pattern">
    <test qual="any" name="family"><string>楷体_GB2312</string></test>
    <edit name="family" mode="assign" binding="same"><string>KaiTi</string></edit>
  </match>

  <!-- ═══ 方正小标宋简体 → STZhongsong (华文中宋, STZHONGS.TTF) ═══ -->
  <!-- 因方正小标宋简体字体文件不可获取，使用华文中宋作为高质量替代 -->
  <match target="pattern">
    <test qual="any" name="family"><string>方正小标宋简体</string></test>
    <edit name="family" mode="assign" binding="same"><string>STZhongsong</string></edit>
  </match>
  <match target="pattern">
    <test qual="any" name="family"><string>FZXiaoBiaoSong-B05</string></test>
    <edit name="family" mode="assign" binding="same"><string>STZhongsong</string></edit>
  </match>
  <match target="pattern">
    <test qual="any" name="family"><string>方正小标宋</string></test>
    <edit name="family" mode="assign" binding="same"><string>STZhongsong</string></edit>
  </match>

  <!-- ═══ 常用中文名 → 英文注册名 (alias 方式, 已安装字体) ═══ -->
  <alias>
    <family>仿宋</family>
    <prefer><family>FangSong</family></prefer>
  </alias>
  <alias>
    <family>楷体</family>
    <prefer><family>KaiTi</family></prefer>
  </alias>
  <alias>
    <family>黑体</family>
    <prefer><family>SimHei</family></prefer>
  </alias>
  <alias>
    <family>宋体</family>
    <prefer><family>SimSun</family></prefer>
  </alias>
  <alias>
    <family>微软雅黑</family>
    <prefer><family>Microsoft YaHei</family></prefer>
  </alias>

  <!-- ═══ 华文系列别名 ═══ -->
  <alias>
    <family>华文仿宋</family>
    <prefer><family>STFangsong</family></prefer>
  </alias>
  <alias>
    <family>华文楷体</family>
    <prefer><family>STKaiti</family></prefer>
  </alias>
  <alias>
    <family>华文宋体</family>
    <prefer><family>STSong</family></prefer>
  </alias>
  <alias>
    <family>华文中宋</family>
    <prefer><family>STZhongsong</family></prefer>
  </alias>

</fontconfig>
