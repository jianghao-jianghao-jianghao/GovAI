# ─────────────────────────────────────────────────────────
# GovAI 后端环境变量配置
# 复制为 .env 后填写真实值
# ─────────────────────────────────────────────────────────

# ── 数据库 ──
DATABASE_URL=postgresql+asyncpg://govai_user:govai_password@postgres:5432/govai_db

# ── Redis ──
REDIS_URL=redis://redis:6379/0

# ── JWT ──
JWT_SECRET_KEY=govai-dev-secret-key-change-in-production-2026
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# ── 服务 ──
APP_HOST=0.0.0.0
APP_PORT=8000
APP_DEBUG=true

# ── 文件存储 ──
UPLOAD_DIR=/app/uploads

# ── Dify 配置 ──
# Dify API 地址
#   本地/容器:  http://127.0.0.1:15001/v1 (backend 使用 network_mode: host)
#   云版:      https://api.dify.ai/v1
DIFY_BASE_URL=http://127.0.0.1:15001/v1

# Dify Dataset API Key（在 Dify 后台 → 知识库 → API 密钥 获取）
DIFY_DATASET_API_KEY=dataset-xxxxxxxxxxxxxxxxxxxxxxxx

# Dify 服务模式：
#   "true"  = 全部 Mock（开发/无 Dify 环境时使用）
#   "false" = Hybrid 混合模式（按 API Key 是否配置自动切换，未配置的功能走 Mock）
#   "full"  = 全部走真实 Dify（所有 Dify 功能就绪后使用）
DIFY_MOCK=true

# ── Dify App API Keys ──
# 各功能 App 的 API Key，在 Dify 后台 → 对应应用 → API 参考 → API 密钥 获取
# Hybrid 模式下：已配置的 Key → 走真实 Dify；未配置的 Key → 自动降级为 Mock
DIFY_API_KEY=
DIFY_APP_DOC_DRAFT_KEY=app-xxxxxxxxxxxxxxxxxxxxxxxx
DIFY_APP_DOC_CHECK_KEY=app-xxxxxxxxxxxxxxxxxxxxxxxx
DIFY_APP_DOC_OPTIMIZE_KEY=app-xxxxxxxxxxxxxxxxxxxxxxxx
DIFY_APP_QA_CHAT_KEY=app-xxxxxxxxxxxxxxxxxxxxxxxx
DIFY_APP_ENTITY_EXTRACT_KEY=app-xxxxxxxxxxxxxxxxxxxxxxxx

# ── CORS ──
CORS_ORIGINS=["http://localhost:5173","http://localhost:3000"]
